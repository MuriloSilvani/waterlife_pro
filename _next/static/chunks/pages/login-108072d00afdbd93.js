(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3968:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2125).ZP.button.withConfig({displayName:"style__Button"})(["width:100%;height:60px;background:",";cursor:pointer;border:0;border-radius:8px;color:#FFF;font-weight:700;display:inline-block;text-align:center;text-decoration:none;font-size:18px;line-height:60px;transition:filter 0.2s;&:hover{filter:brightness(75%);}"],(function(e){var t=e.danger;return e.success?"#4BB543":t?"#F32013":"#30AFB4"})),o=n(5893),i=function(e){var t=e.children,n=e.danger,i=e.success,a=e.onClick;return(0,o.jsx)(r,{onClick:a,danger:n,success:i,children:t})}},969:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2125),o=r.ZP.div.withConfig({displayName:"style__Wrapper"})([""]),i=r.ZP.label.withConfig({displayName:"style__Label"})(["padding:0 16px;"]),a=r.ZP.input.withConfig({displayName:"style__Input"})(["width:100%;height:60px;color:#262626;border:1px solid #DCDCE6;border-radius:8px;padding:0 24px;font:400 18px Roboto,sans-serif;"]),u=n(5893),s=function(e){var t=e.required,n=void 0!==t&&t,r=e.placeholder,s=e.label,c=e.value,l=e.onChange,d=e.type,f=void 0===d?"text":d;return(0,u.jsxs)(o,{children:[s&&(0,u.jsx)(i,{children:s}),(0,u.jsx)(a,{type:f,required:n,placeholder:r,value:c,onChange:function(e){return l(e.target.value)}})]})}},848:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2125).ZP.h2.withConfig({displayName:"style__Title"})(["color:#262626;cursor:default;font:600 "," Roboto,sans-serif;"],(function(e){return e.small?"24px":"32px"})),o=n(5893),i=function(e){var t=e.small,n=void 0!==t&&t,i=e.children;return(0,o.jsx)(r,{small:n,children:i})}},8784:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(29),o=n(7794),i=n.n(o),a=n(7294),u=n(1163),s=n(3968),c=n(969),l=n(848),d=n(2125),f=d.ZP.div.withConfig({displayName:"login__LoginContainer"})(["height:100vh;display:flex;overflow:hidden;@media (max-width:680px){flex-direction:column;}"]),p=d.ZP.div.withConfig({displayName:"login__FormContainer"})(["flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;"]),g=d.ZP.img.withConfig({displayName:"login__Logo"})(["max-height:80px;"]),h=d.ZP.form.withConfig({displayName:"login__Form"})(["padding:50px;justify-content:center;display:flex;flex-direction:column;gap:12px;white-space:nowrap;@media (max-width:680px){align-items:center;}"]),m=d.ZP.div.withConfig({displayName:"login__ImageContainer"})(["flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;"]),v=d.ZP.img.withConfig({displayName:"login__Image"})(["display:block;max-width:100%;max-height:100%;"]),y=n(6347),x=n(5893),w=function(){var e=(0,u.useRouter)(),t=(0,a.useState)(""),n=t[0],o=t[1],d=function(){var t=(0,r.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,y.Z.login({name:n});case 3:if(!t.sent){t.next=5;break}e.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,x.jsxs)(f,{children:[(0,x.jsx)(p,{children:(0,x.jsxs)(h,{onSubmit:d,children:[(0,x.jsx)("div",{children:(0,x.jsx)(g,{alt:"logo",src:"logo.png"})}),(0,x.jsx)(l.Z,{children:"Fa\xe7a seu login"}),(0,x.jsx)(c.Z,{required:!0,value:n,onChange:o,placeholder:"Seu nome"}),(0,x.jsx)(s.Z,{type:"submit",children:"Entrar"})]})}),(0,x.jsx)(m,{children:(0,x.jsx)(v,{alt:"logo",src:"banner.png"})})]})}},6347:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(9499);function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(29),s=n(7794),c=n.n(s),l=n(9490);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={};p.login=(0,u.Z)(c().mark((function e(){var t,n,r,o,i,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.name,r=JSON.parse(localStorage.getItem("users")),(o=null===r||void 0===r?void 0:r.find((function(e){return e.name===n})))?localStorage.setItem("logged",JSON.stringify(o)):(i={_id:(null===r||void 0===r?void 0:r.length)||0,name:n},localStorage.setItem("users",JSON.stringify([].concat(a(r||[]),[i]))),localStorage.setItem("logged",JSON.stringify(i))),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),p.logout=(0,u.Z)(c().mark((function e(){var t=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.length>0&&void 0!==t[0]?t[0]:{}),localStorage.removeItem("logged"),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)}))),p.getUser=(0,u.Z)(c().mark((function e(){var t=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.length>0&&void 0!==t[0]?t[0]:{}),e.abrupt("return",JSON.parse(localStorage.getItem("logged")));case 3:case"end":return e.stop()}}),e)}))),p.updateUser=(0,u.Z)(c().mark((function e(){var t,n,r,o,i,a,u,s,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.age,r=t.weight,o=t.start,i=t.end,e.next=3,p.getUser();case 3:a=e.sent,u=f(f({},a),{},{age:n,weight:r,start:o,end:i,daily_quantity:35*r}),s=(s=JSON.parse(localStorage.getItem("users"))).map((function(e){return e.name===a.name&&(e=u),e})),localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("logged",JSON.stringify(u));case 9:case"end":return e.stop()}}),e)}))),p.getUserActions=(0,u.Z)(c().mark((function e(){var t,n,r,o,i,a,u,s,d,f,g,h,m,v,y=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:{},n=t.date,e.next=3,p.getUser();case 3:if((r=e.sent)&&r.start){e.next=6;break}return e.abrupt("return",[]);case 6:if(o=l.ou.local(),i="".concat(r.name,"-").concat((null===n||void 0===n?void 0:n.toISODate())||o.toISODate()),a=function(e){return e.sort((function(e,t){var n=l.ou.fromISO(e.time),r=l.ou.fromISO(t.time),o=n.diff(r).milliseconds;return o>0?1:o<0?-1:0})).sort((function(e,t){return e.done===t.done?0:e.done?1:-1}))},!(u=JSON.parse(localStorage.getItem(i)))){e.next=14;break}return e.abrupt("return",a(u));case 14:for(s=r.start.split(":"),d=(n||o).set({hour:s[0],minute:s[1]}),f=r.end.split(":"),g=(n||o).set({hour:f[0],minute:f[1]}),h=d,m=[],v=function(){return h.diff(g).milliseconds<=5};v();)m.push({_id:m.length,time:h.toISO(),done:!1}),h=h.plus({minutes:30});return m=m.map((function(e){return e.quantity=r.daily_quantity/m.length,e})),localStorage.setItem(i,JSON.stringify(m)),e.abrupt("return",a(m));case 25:case"end":return e.stop()}}),e)}))),p.updateActionStatus=(0,u.Z)(c().mark((function e(){var t,n,r,o,i,a,u,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=t._id,r=t.date,e.next=3,p.getUser();case 3:return o=e.sent,e.next=6,p.getUserActions({date:r});case 6:return i=e.sent,a=l.ou.local(),u="".concat(o.name,"-").concat((null===r||void 0===r?void 0:r.toISODate())||a.toISODate()),localStorage.setItem(u,JSON.stringify(i.map((function(e){return e._id===n&&(e.done=!e.done),e})))),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));var g=p},2070:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(8784)}])},1163:function(e,t,n){e.exports=n(1587)},29:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[809,774,888,179],(function(){return t=2070,e(e.s=t);var t}));var t=e.O();_N_E=t}]);